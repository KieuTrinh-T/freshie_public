<!-- Header -->
<nav class="navbar navbar-expand-lg navbar-light shadow">
  <div class="container d-flex justify-content-between align-items-center">
      <div class="align-self-center collapse navbar-collapse flex-fill  d-lg-flex justify-content-lg-between">
        <div class="left-header d-flex justify-content-center align-items-center w-50">
          <div class="w-50">
            <img src="../../../../../assets/img/Logo_freshie_header.png" width="150px" alt="" routerLink="/">
          </div>
          <div class="flex-fill">
            <ul class="nav navbar-nav d-flex justify-content-between mx-lg-auto">
                <li class="nav-item">
                    <a class="nav-link" routerLink="/">Home</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" routerLink="shop">Shop</a>
              </li>
                <li class="nav-item">
                    <a class="nav-link" routerLink="/about">About</a>
                </li>
            </ul>
          </div>
        </div>
        <div class="right-header w-50">
          <div class="w-100 d-flex justify-content-around align-items-center">
            <div class="search-form d-flex align-items-center">
              <input class="search-input" type="text" #search placeholder="Search" title="Enter search keyword">
              <button class="search-button" title="Search" (click)="searchProducts(search.value)"><i class="bi bi-search"></i></button>
            </div>
            <!-- <div class="input-search d-flex justify-content-end align-items-center w-75" >
              <div class="fui-search-input-effect">
                <input type="checkbox" id="check" />
                <div class="search-box">
                  <input type="text" placeholder="Search..." #search/>
                  <label for="check" class="icon" (click)="searchProducts(search.value)">
                    <svg
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M14.9056 16.3199C13.551 17.3729 11.8487 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 11.8487 17.3729 13.551 16.3199 14.9056L21.7071 20.2929C22.0976 20.6834 22.0976 21.3166 21.7071 21.7071C21.3166 22.0976 20.6834 22.0976 20.2929 21.7071L14.9056 16.3199ZM16 10C16 13.3137 13.3137 16 10 16C6.68629 16 4 13.3137 4 10C4 6.68629 6.68629 4 10 4C13.3137 4 16 6.68629 16 10Z"
                        fill="currentColor"
                      />
                    </svg>
                  </label>
                </div>
              </div>
            </div> -->
            <div class="icon-group d-flex justify-content-end align-items-center w-25">
              <div class="icon cursor-pointer" style="margin-right: 10px;">
                <mat-icon matBadgeColor="warn" routerLink="cart">shopping_cart</mat-icon>
              </div>
              <ng-container *ngIf="(user$ | async) as user">
                <div *ngIf="user.username===''">
                  <!-- Nếu username hoặc pw rỗng, hiển thị nút đăng nhập -->
                    <button mat-button routerLink="info/sign-in">Sign In</button>
                </div>
                <div *ngIf="user.username">
                  <!-- Nếu username và pw đều có giá trị, hiển thị thông tin người dùng -->
                  <mat-icon class="cursor-pointer" matBadgeColor="warn" [matMenuTriggerFor]="menu">person</mat-icon>
                  <mat-menu #menu="matMenu">
                    <button routerLink="/history" mat-menu-item>
                      <span>Đơn mua</span>
                    </button>
                    <button routerLink="/info/profile" mat-menu-item>
                      <span>Tài khoản</span>
                    </button>
                    <button (click)="logout()" mat-menu-item>
                      <span>Đăng xuất</span>
                    </button>
                  </mat-menu>
                </div>
              </ng-container>
            </div>
          </div>
        </div>
      </div>
  </div>
</nav>
<!-- Close Header -->
